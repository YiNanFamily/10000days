<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10000天快乐！我们的专属回忆</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/css/lg-thumbnail.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>亲爱的楠楠宝，10000天快乐！</h1>
        <p>每一个相册，都珍藏着一段独一无二的故事。愿你永远被爱包围！</p>
        <button id="play-music-btn">🎵 来点音乐吧</button>
    </header>

    <main class="gallery-container">
        <div class="gallery" id="main-gallery">
            <!-- 相册将通过JavaScript动态生成 -->
        </div>
    </main>

    <footer>
        <p>永远爱你的呆子陈一</p>
        <p>&copy; 2025.06.14 - Just for You</p>
    </footer>

    <audio id="bg-music" loop></audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/lightgallery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.2/plugins/thumbnail/lg-thumbnail.min.js"></script>

    <script>
        // 相册配置
        const galleryConfig = [
            { id: 'album1', title: '相遇之前', folder: 'images/past', count: 4 },
            { id: 'album2', title: '生活点滴', folder: 'images/daily', count: 3 },
            { id: 'album3', title: '特别纪念日', folder: 'images/special', count: 2 },
            { id: 'album4', title: '甜蜜时光', folder: 'images/sweet', count: 5 },
            { id: 'album5', title: '旅行记忆', folder: 'images/travel', count: 6 },
            { id: 'album6', title: '美食记录', folder: 'images/food', count: 4 },
            { id: 'album7', title: '节日庆祝', folder: 'images/festival', count: 3 },
            { id: 'album8', title: '日常随拍', folder: 'images/casual', count: 4 },
            { id: 'album9', title: '珍贵瞬间', folder: 'images/precious', count: 5 }
        ];

        // 创建相册HTML
        function createGalleryHTML() {
            const mainGallery = document.getElementById('main-gallery');
            
            galleryConfig.forEach(config => {
                const galleryItem = document.createElement('div');
                galleryItem.id = config.id;
                galleryItem.className = 'gallery-item';
                
                // 创建第一个可见的图片链接
                const firstImage = document.createElement('a');
                firstImage.href = `${config.folder}/1.jpg`;
                const img = document.createElement('img');
                img.src = `${config.folder}/1.jpg`;
                img.alt = config.title;
                firstImage.appendChild(img);
                
                // 添加标题
                const caption = document.createElement('p');
                caption.className = 'caption';
                caption.textContent = config.title;
                
                galleryItem.appendChild(firstImage);
                galleryItem.appendChild(caption);
                
                // 添加其他隐藏的图片链接
                for (let i = 2; i <= config.count; i++) {
                    const hiddenLink = document.createElement('a');
                    hiddenLink.href = `${config.folder}/${i}.jpg`;
                    hiddenLink.style.display = 'none';
                    galleryItem.appendChild(hiddenLink);
                }
                
                mainGallery.appendChild(galleryItem);
            });
        }

        // 初始化所有相册
        function initGalleries() {
            createGalleryHTML();
            
            galleryConfig.forEach(config => {
                lightGallery(document.getElementById(config.id), {
                    selector: 'a',
                    thumbnail: true,
                    loop: true,
                    autoplay: true,
                    autoplayControls: true,
                    progressBar: true
                });
            });
        }

        // 初始化相册
        initGalleries();

        // --- 音乐播放列表功能 ---
        const musicPlayer = document.getElementById('bg-music');
        const playBtn = document.getElementById('play-music-btn');
        
        const musicPlaylist = [
            'music/クリスマスソング.m4a',
            'music/The Scientist.mp3',
            'music/街灯晚餐.m4a'
        ];
        
        let currentSongIndex = 0;

        function playNextSong() {
            currentSongIndex = (currentSongIndex + 1) % musicPlaylist.length;
            musicPlayer.src = musicPlaylist[currentSongIndex];
            musicPlayer.play();
        }

        musicPlayer.addEventListener('ended', playNextSong);

        playBtn.addEventListener('click', () => {
            if (musicPlayer.paused) {
                musicPlayer.src = musicPlaylist[currentSongIndex];
                musicPlayer.play();
                playBtn.textContent = '⏸️ 暂停音乐';
            } else {
                musicPlayer.pause();
                playBtn.textContent = '🎵 继续播放';
            }
        });
    </script>

</body>
</html>